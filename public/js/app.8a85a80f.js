(function(e){function t(t){for(var i,a,c=t[0],l=t[1],s=t[2],d=0,f=[];d<c.length;d++)a=c[d],r[a]&&f.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,c=1;c<n.length;c++){var l=n[c];0!==r[l]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={app:0},o=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0439":function(e,t,n){"use strict";var i=n("237b"),r=n.n(i);r.a},"080b":function(e,t,n){"use strict";var i=n("45fb"),r=n.n(i);r.a},"237b":function(e,t,n){},"2fbf":function(e,t,n){},"45fb":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),r=n("660e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$mq,attrs:{id:"app"}},[n("div",{staticClass:"login-widget",class:e.$mq},[n("div",{staticClass:"login-widget-header"},[n("img",{attrs:{src:e.logo,height:"70px"}})]),n("div",{staticClass:"login-widget-body",class:e.$mq},[n("div",{staticClass:"login-widget-content-container"},[n("h2",{staticClass:"login-widget-content"},[e._v(e._s(e.headerText))]),"consent"!==e.activeView?n("div",{staticClass:"login-widget-content"},[e._v(e._s("consent"===e.activeView?e.consentDetail:e.appDetail))]):e._e(),e.error?n("Error",{attrs:{error:e.error}}):e._e(),"login"===e.activeView?n("Login",{on:{error:function(t){e.error=t}}}):e._e(),"createAccount"===e.activeView?n("CreateAccount",{on:{error:function(t){e.error=t}}}):e._e(),"consent"===e.activeView?n("Consent",{attrs:{appName:e.appName,claims:e.requestedClaims},on:{show:function(t){e.activeView=t}}}):e._e(),"consent"!==e.activeView?n("Links",{attrs:{activeView:e.activeView},on:{show:function(t){e.activeView=t}}}):e._e()],1)])])])},a=[],c=n("db72"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.error?n("div",{staticClass:"login-widget-content login-widget-errors-container"},[n("div",{staticClass:"login-widget-error"},[e._m(0),n("span",{staticStyle:{"padding-left":"0.8rem"}},[e._v(e._s(e.error))])])]):e._e()},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"flex",width:"40px",height:"40px","border-right":"1px solid rgb(221, 221, 221)"}},[n("img",{staticStyle:{display:"block",margin:"auto"},attrs:{src:"/alert.svg",height:"25px"}})])}],u={name:"error",props:["error"]},d=u,f=(n("e3d8"),n("2877")),p=Object(f["a"])(d,l,s,!1,null,"83adf10c",null),g=p.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login-widget-links-container"}},["login"===e.activeView?n("div",[n("div",{staticClass:"login-widget-links",staticStyle:{"justify-content":"space-between"}},[n("a",{staticClass:"login-widget-link",on:{click:function(t){e.showMore=!e.showMore}}},[e._v("Need help signing in?")]),n("a",{staticClass:"login-widget-link",on:{click:function(t){e.showMore=!1,e.$emit("show","createAccount")}}},[e._v("Create account")])]),n("div",{staticClass:"login-widget-links-more",style:{"max-height":e.showMore?"80px":0}},[n("a",{staticClass:"login-widget-link"},[e._v("Recover password")]),n("a",{staticClass:"login-widget-link"},[e._v("Unlock account")])])]):e._e(),"createAccount"===e.activeView?n("div",[n("div",{staticClass:"login-widget-links",staticStyle:{"justify-content":"center"}},[n("a",{staticClass:"login-widget-link",on:{click:function(t){return e.$emit("show","login")}}},[e._v("Back to sign in")])])]):e._e()])},h=[],m={name:"links",props:{activeView:String},data:function(){return{showMore:!1}}},w=m,b=(n("0439"),Object(f["a"])(w,v,h,!1,null,"71b34b94",null)),_=b.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login-widget-login-container"}},[e._l(e.fields,function(t){var i=t.key,r=t.placeholder,o=t.value,a=t.touched,c=t.error;return n("TextInput",{key:i,attrs:{password:"password"===i,placeholder:r,value:o,touched:a,error:c},on:{input:function(t){e.updateField(i,"value",t),e.updateField(i,"error",!1)},touched:function(t){return e.updateField(i,"touched",!0)},enter:e.login}})}),n("button",{staticClass:"login-widget-content",on:{click:e.login}},[e._v("Sign in")])],2)},k=[],x=(n("ac6a"),n("7514"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{staticClass:"login-widget-content",class:{error:e.danger},attrs:{type:e.password?"password":"text",placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){e.$emit("touched"),e.$emit("input",t.target.value)},keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$emit("touched"),e.$emit("enter")}}})}),C=[],O={name:"TextInput",props:{password:{type:Boolean,default:!1},value:String,placeholder:String,touched:Boolean,error:Boolean},computed:{danger:function(){return this.touched&&this.error}},defaultModel:function(){return{value:"",touched:!1,error:!1}}},j=O,$=(n("580e"),Object(f["a"])(j,x,C,!1,null,"022f0719",null)),M=$.exports,S={name:"login",components:{TextInput:M},data:function(){return{fields:[Object(c["a"])({key:"username",placeholder:"Email or Username"},M.defaultModel()),Object(c["a"])({key:"password",placeholder:"Password"},M.defaultModel())]}},methods:{updateField:function(e,t,n){this.fields.find(function(t){return t.key===e})[t]=n},login:function(){var e=this;this.fields.forEach(function(t){e.updateField(t.key,"touched",!0),t.value||e.updateField(t.key,"error",!0)}),this.fields.some(function(e){return!e.value})?this.$emit("error","Missing one or more required fields."):(this.$emit("error",null),console.log("Attempt login:",this.fields.map(function(e){return e.value})))}}},E=S,V=(n("080b"),Object(f["a"])(E,y,k,!1,null,"4393969e",null)),A=V.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login-widget-account-create-container"}},[e._l(e.fields,function(t){var i=t.key,r=t.placeholder,o=t.value,a=t.touched,c=t.error;return n("TextInput",{key:i,attrs:{password:"password"===i,placeholder:r,value:o,touched:a,error:c},on:{input:function(t){e.updateField(i,"value",t),e.updateField(i,"error",!1)},touched:function(t){return e.updateField(i,"touched",!0)},enter:e.createAccount}})}),n("button",{staticClass:"login-widget-content",on:{click:e.createAccount}},[e._v("Create account")])],2)},T=[],N={name:"CreateAccount",components:{TextInput:M},data:function(){return{fields:[Object(c["a"])({key:"username",placeholder:"Username"},M.defaultModel()),Object(c["a"])({key:"email",placeholder:"Email"},M.defaultModel()),Object(c["a"])({key:"password",placeholder:"Password"},M.defaultModel()),Object(c["a"])({key:"firstName",placeholder:"First Name"},M.defaultModel()),Object(c["a"])({key:"lastName",placeholder:"Last Name"},M.defaultModel())]}},methods:{updateField:function(e,t,n){this.fields.find(function(t){return t.key===e})[t]=n},createAccount:function(){var e=this;this.fields.forEach(function(t){e.updateField(t.key,"touched",!0),t.value||e.updateField(t.key,"error",!0)}),this.fields.some(function(e){return!e.value})?this.$emit("error","Missing one or more required fields."):(this.$emit("error",null),console.log("Attempt create account",this.fields.map(function(e){return e.value})))}}},P=N,q=(n("fea3"),Object(f["a"])(P,F,T,!1,null,"3a84d932",null)),I=q.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login-widget-consent-container"}},[n("ul",e._l(e.claimsText,function(t){var i=t[0],r=t[1];return n("li",{key:i},[e._v("\n            "+e._s(r)+"\n        ")])}),0),n("div",{staticClass:"login-widget-allow-text"},[e._v("Allow "+e._s(e.appName)+" to do this?")]),n("button",{on:{click:e.sendConsent}},[e._v("Allow")]),n("a",{on:{click:function(t){return e.$emit("show","login")}}},[e._v("Cancel")])])},B=[],U={name:"Consent",props:{appName:String,claims:Array},data:function(){return{claimsMap:{username:"Username",email:"Email",name:"First and last name"}}},computed:{claimsText:function(){var e=this;return this.claims.map(function(t){return[t,e.claimsMap[t]]})}},methods:{sendConsent:function(){console.log("Send consent")}}},D=U,J=(n("f251"),Object(f["a"])(D,L,B,!1,null,"8f2c4d90",null)),H=J.exports,R=JSON.parse(document.getElementById("pageData").innerHTML),z={name:"app",components:{Error:g,Links:_,Login:A,CreateAccount:I,Consent:H},data:function(){return Object(c["a"])({},R,{logo:"/logo-full.png",activeView:"login",error:null})},computed:{headerText:function(){return"consent"===this.activeView?"".concat(this.appName," will have access to:"):"Sign in to access ".concat(this.appName)}}},G=z,K=(n("5ad6"),Object(f["a"])(G,o,a,!1,null,"20694129",null)),Q=K.exports;i["a"].config.productionTip=!1,i["a"].use(r["a"],{breakpoints:{mobile:600,desktop:1/0}}),new i["a"]({render:function(e){return e(Q)}}).$mount("#app")},"580e":function(e,t,n){"use strict";var i=n("6e0e"),r=n.n(i);r.a},"5ad6":function(e,t,n){"use strict";var i=n("5fd8"),r=n.n(i);r.a},"5fd8":function(e,t,n){},"6e0e":function(e,t,n){},"6e9b":function(e,t,n){},e3d8:function(e,t,n){"use strict";var i=n("6e9b"),r=n.n(i);r.a},f251:function(e,t,n){"use strict";var i=n("f8e1"),r=n.n(i);r.a},f8e1:function(e,t,n){},fea3:function(e,t,n){"use strict";var i=n("2fbf"),r=n.n(i);r.a}});
//# sourceMappingURL=app.8a85a80f.js.map